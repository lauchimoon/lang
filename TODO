[x] - else is completely broken when nested, so refactor if-else behaviour
